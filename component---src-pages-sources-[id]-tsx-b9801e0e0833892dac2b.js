"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[951],{9717:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(7294),r=n(3084),l=n(5444),c=n(663),u=n(6405),m=n(9002),o=n(5888),i=n(1307),d=n(3947),s=n(5486),p=n(5560);function h(e){var t=e.id,n=a.useState(null),r=n[0],h=n[1],v=a.useState(null),E=v[0],x=v[1],I=a.useState(!1),y=I[0],b=I[1];a.useEffect((function(){"undefined"!=typeof window&&null===r&&h({adminUrl:window.GATSBY_ADMIN_URL})}),[r]);return a.useEffect((function(){"new"!==t&&fetch(r.adminUrl+"/gateways"+t,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){x(e),console.log(e)}))}),[]),a.createElement("form",{id:"dataForm",onSubmit:function(e){b(!0),e.preventDefault();var n=(0,c.Oo)(e.target,"headers"),a=r.adminUrl+"/gateways",u="POST";"new"!==t&&(a=a+"/"+t,u="PUT");var m=document.getElementById("nameInput"),o=document.getElementById("locationInput"),i=document.getElementById("authInput"),d=document.getElementById("localeInput"),s=document.getElementById("acceptInput"),p=document.getElementById("jwtInput"),h=document.getElementById("jwtIdInput"),v=document.getElementById("secretInput"),E=document.getElementById("usernameInput"),I=document.getElementById("passwordInput"),y=document.getElementById("apikeyInput"),N=document.getElementById("documentationInput"),f=document.getElementById("authorizationHeaderInput"),w={name:m.value,location:o.value,auth:i.value,locale:d.value,accept:s.value,jwt:p.value,jwtId:h.value,secret:v.value,username:E.value,password:I.value,apikey:y.value,documentation:N.value,authorizationHeader:f.value};0!==Object.keys(n).length?w.headers=n:w.headers=[],w=(0,c.Z6)(w),fetch(a,{method:u,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then((function(e){return e.json()})).then((function(e){x(e),b(!1),(0,l.c4)("/sources")})).catch((function(e){console.error("Error:",e)}))}},a.createElement(s.Card,{title:"Source",cardHeader:function(){return a.createElement(a.Fragment,null,a.createElement(l.rU,{className:"utrecht-link",to:"/sources"},a.createElement("button",{className:"utrecht-button utrecht-button-sm btn-sm btn-danger mr-2"},a.createElement("i",{className:"fas fa-long-arrow-alt-left mr-2"}),"Back")),a.createElement("button",{className:"utrecht-button utrec`ht-button-sm btn-sm btn-success",type:"submit"},a.createElement("i",{className:"fas fa-save mr-2"}),"Save"))},cardBody:function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},!0===y?a.createElement(u.Z,null):a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},null!==E&&null!==E.name?a.createElement(m.GenericInputComponent,{type:"text",name:"name",id:"nameInput",data:E.name,nameOverride:"Name",required:"true"}):a.createElement(m.GenericInputComponent,{type:"text",name:"name",id:"nameInput",nameOverride:"Name",required:"true"})),a.createElement("div",{className:"col-6"},null!==E&&null!==E.location?a.createElement(m.GenericInputComponent,{nameOverride:"Location (url)",name:"location",data:E.location,type:"text",required:"true",id:"locationInput"}):a.createElement(m.GenericInputComponent,{nameOverride:"Location (url)",name:"location",type:"text",required:"true",id:"locationInput"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},null!==E&&null!==E.accept?a.createElement(m.GenericInputComponent,{nameOverride:"Accept (accept header used for this source)",name:"accept",data:E.accept,type:"text",id:"acceptInput"}):a.createElement(m.GenericInputComponent,{nameOverride:"Accept (accept header used for this source)",name:"accept",type:"text",id:"acceptInput"})),a.createElement("div",{className:"col-6"},null!==E&&null!==E.locale?a.createElement(m.GenericInputComponent,{nameOverride:"Locale",name:"locale",data:E.locale,type:"text",id:"localeInput"}):a.createElement(m.GenericInputComponent,{nameOverride:"Locale",name:"locale",type:"text",id:"localeInput",maxLength:"10"}))),a.createElement("div",{className:"form-group"},null!==E&&null!==E.auth?a.createElement(o.SelectInputComponent,{options:[{name:"apikey"},{name:"jwt"},{name:"username-password"}],name:"auth",id:"authInput",nameOverride:"Auth *",data:E.auth}):a.createElement(o.SelectInputComponent,{options:[{name:"apikey"},{name:"jwt"},{name:"username-password"}],name:"auth",id:"authInput",nameOverride:"Auth *"})),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-4"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.jwt?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Jwt",name:"jwt",data:E.jwt,type:"text",id:"jwtInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Jwt",name:"jwt",type:"text",id:"jwtInput"}))),a.createElement("div",{className:"col-4"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.jwtId?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"JwtId",name:"jwtId",data:E.jwtId,type:"text",id:"jwtIdInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"JwtId",name:"jwtId",type:"text",id:"jwtIdInput"}))),a.createElement("div",{className:"col-4"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.secret?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Secret",name:"secret",data:E.secret,type:"text",id:"secretInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Secret",name:"secret",type:"text",id:"secretInput"})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.username?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Username",name:"username",data:E.username,type:"text",id:"usernameInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Username",name:"username",type:"text",id:"usernameInput"}))),a.createElement("div",{className:"col-6"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.password?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Password",name:"password",data:E.password,type:"text",id:"passwordInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Password",name:"password",type:"text",id:"passwordInput"})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.apikey?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Apikey",name:"apikey",data:E.apikey,type:"text",id:"apikeyInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Apikey",name:"apikey",type:"text",id:"apikeyInput"}))),a.createElement("div",{className:"col-6"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.documentation?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Documentation",name:"documentation",data:E.documentation,type:"text",id:"documentationInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"Documentation",name:"documentation",type:"text",id:"documentationInput"})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement("div",{className:"form-group"},null!==E&&null!==E.authorizationHeader?a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"AuthorizationHeader",name:"authorizationHeader",data:E.authorizationHeader,type:"text",id:"authorizationHeaderInput"}):a.createElement(m.GenericInputComponent,{className:"utrecht-textbox utrecht-textbox--html-input",nameOverride:"AuthorizationHeader",name:"authorizationHeader",type:"text",id:"authorizationHeaderInput"}))),a.createElement(i.Accordion,{id:"sourceAccordion",items:[{title:"Headers",id:"headers",render:function(){return a.createElement(a.Fragment,null,null!==E?a.createElement(d.MultiDimensionalArrayInput,{id:"headers",label:"Headers",data:[{key:"headers",value:E.headers}],deleteFunction:p.qt,addFunction:p.MN}):a.createElement(d.MultiDimensionalArrayInput,{id:"headers",label:"Headers",data:null,deleteFunction:p.qt,addFunction:p.MN}))}}]})))))}}))}var v=function(e){return a.createElement(r.Z,null,a.createElement("main",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement("div",{className:"page-top-item"},a.createElement(h,{id:e.params.id}))))))}},5560:function(e,t,n){n.d(t,{MN:function(){return r},qt:function(){return l}});n(7207);var a=function(e,t,n,a,r,l){void 0===t&&(t=[]),void 0===n&&(n={}),void 0===a&&(a=""),void 0===r&&(r=""),void 0===l&&(l=null);var c=document.createElement(e);c.value=a,c.innerText=r;for(var u=0,m=Object.entries(n);u<m.length;u++){var o=m[u],i=o[0],d=o[1];c.setAttribute(i,d)}for(var s=0;s<t.length;s++)c.classList.add(t[s]);return null!==l&&c.addEventListener("click",l,!1),c},r=function(e,t,n,r,l,c){void 0===l&&(l=null),void 0===c&&(c=!0);var u=document.getElementById(t),m=document.getElementById(n),o=document.getElementById(e);if(0!=u.value.length&&0!=m.value.length){var i=a("div",["row",u.value.replaceAll(" ","-")]),d=a("div",["col-5"]),s=a("div",["from-group"]),p=null;c&&(p=a("label",["utrecht-form-label"],{for:m.value},"",u.value));var h=a("input",["utrecht-textbox","utrecht-textbox--html-input","mb-2"],{type:"text",id:m.value,name:r+"["+u.value.replaceAll(" ","-")+"]"},m.value),v=a("div",["col-2","d-flex","mt-auto","mb-3"]),E=a("button",["utrecht-button","utrecht-button-sm","btn-sm","btn-danger"],{type:"button"},u.value,"Delete",l);null!==p&&s.appendChild(p),s.appendChild(h),d.appendChild(s),v.appendChild(E),i.appendChild(d),i.appendChild(v),o.appendChild(i),u.value="",m.value=""}},l=function(e){for(var t=document.getElementsByClassName(e.target.value),n=0;n<t.length;n++)t[n].remove()}}}]);
//# sourceMappingURL=component---src-pages-sources-[id]-tsx-b9801e0e0833892dac2b.js.map